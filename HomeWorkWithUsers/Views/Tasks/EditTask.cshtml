@using LayerApp.BLL.DTO
@model TaskDTO
@{
    ViewData["Title"] = "Редактировать задачу";
}

<div class="text-center">
    <h2 class="display-4">@ViewData["Title"] </h2>
</div>

<form method="post" asp-controller="Tasks" asp-action="CheckUpdateTask">
    <div class="form-group row d-none">
        <label asp-for="Id" class="col-1 col-form-label"></label>
        <div class="col-11">
            <input asp-for="Id" value="@Model.Id" />
            <span asp-validation-for="Id"></span>
        </div>
    </div>

    <div class="form-group row">
        <label for="Subject" class="col-2 col-form-label">Заголовок задачи</label>
        <div class="col-10">
            <input type="text" name="Subject" value="@Model.Subject" />
        </div>
    </div>

    <div class="form-group row">
        <label for="ContractorId" class="col-2 ">Пользователь</label>
        <div class="col-10">
            <select name="ContractorId">
                @{
                    if (Model.Contractors != null) {
                        foreach (var contractor in Model.Contractors)
                        {
                            if (contractor.Id == Model.ContractorId)
                            {
                            <option value="@contractor.Id" selected> @contractor.Name @contractor.SurName </option>
                            }
                            else
                            {
                            <option value="@contractor.Id"> @contractor.Name @contractor.SurName </option>
                                }
                            }
                        }
                    }
            </select>
        </div>
    </div>

    <div class="form-group row mt-3">
        <label for="Description" class="col-2">Описание задачи</label>
        <div class="col-10">
            <textarea cols="50" rows="10" name="Description" value="@Model.Description">@Model.Description</textarea>
        </div>
    </div>

    <div class="form-group row ">
        <label for="CreateDate" class="col-2 form-label">Дата создания задачи</label>
        <div class="col-10">
            <input type="text" name="CreateDate" value="@Model.CreateDate" disabled />
        </div>
    </div>

    <div class="form-group row d-none">
        <label for="CreateDate" class="col-2 form-label">Дата создания задачи</label>
        <div class="col-10">
            <input type="text" name="CreateDate" value="@Model.CreateDate"/>
        </div>
    </div>


    <div class="form-group row">
        <label for="DeadLineDate" class="col-2 col-form-label">Дедлайн</label>
        <div class="col-10">
            <input type="datetime-local" name="DeadLineDate" value="@Model.DeadLineDate"/>
        </div>
    </div>

    <input type="submit" class="btn btn-primary" value="Сохранить" />
</form>

